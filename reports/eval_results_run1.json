{
  "judge_mode": true,
  "llm_enabled": true,
  "llm_status": "Mistral API operational (model: mistral-large-latest)",
  "metrics_source": "judge",
  "chroma_stats": {
    "total_chunks": 953,
    "by_content_type": {
      "md": 914,
      "pdf": 32,
      "txt": 7
    },
    "top_docs": [
      {
        "doc_id": "md/kb-test-config.html-9197bf87.md",
        "chunks": 90
      },
      {
        "doc_id": "md/api_runtime_converse.html-40f9e6b4.md",
        "chunks": 64
      },
      {
        "doc_id": "md/models-supported.html-fd18f626.md",
        "chunks": 60
      },
      {
        "doc_id": "md/api_runtime_conversestream.html-9e1a37d7.md",
        "chunks": 59
      },
      {
        "doc_id": "md/model-access.html-2e8fa3aa.md",
        "chunks": 57
      }
    ],
    "md_count": 914
  },
  "aggregate": {
    "context_precision": 0.4141,
    "context_recall": 0.553,
    "faithfulness": 0.7561,
    "answer_relevancy": 0.6528,
    "answer_correctness": 0.6363
  },
  "per_question": [
    {
      "question": "What is Amazon Bedrock?",
      "category": "factual",
      "predicted_answer": "Amazon Bedrock is a fully managed service that provides secure, enterprise-grade access to high-performing foundation models from leading AI companies to build and scale generative AI applications [Chunk 1].",
      "ground_truth_answer": "Amazon Bedrock is a fully managed service that makes foundation models from leading AI companies available through a unified API.",
      "context_precision": 1.0,
      "context_recall": 1.0,
      "faithfulness": 1.0,
      "answer_relevancy": 1.0,
      "answer_correctness": 0.7522
    },
    {
      "question": "Do you need model access permissions before using some Bedrock models?",
      "category": "factual",
      "predicted_answer": "Yes, you need permissions for `bedrock:InvokeModel` or `bedrock:InvokeModelWithResponseStream` actions to use Bedrock models, and access to third-party models requires programmatic approval [Chunk 1][Chunk 2][Chunk 3][Chunk 4].",
      "ground_truth_answer": "Yes, you need to request and be granted model access before you can use foundation models in Amazon Bedrock.",
      "context_precision": 0.6389,
      "context_recall": 1.0,
      "faithfulness": 1.0,
      "answer_relevancy": 0.8917,
      "answer_correctness": 0.468
    },
    {
      "question": "Where can you find supported models for Bedrock?",
      "category": "factual",
      "predicted_answer": "Supported models for Amazon Bedrock are listed in the table under \"Supported foundation models in Amazon Bedrock\" in the documentation [Chunk 1]. You can also find supported embedding models for knowledge bases in \"Supported models and Regions for Amazon Bedrock knowledge bases\" [Chunk 2].",
      "ground_truth_answer": "You can find the list of supported models in the Amazon Bedrock documentation under the supported models page.",
      "context_precision": 1.0,
      "context_recall": 1.0,
      "faithfulness": 1.0,
      "answer_relevancy": 0.8729,
      "answer_correctness": 0.6559
    },
    {
      "question": "What is a Bedrock Knowledge Base used for?",
      "category": "factual",
      "predicted_answer": "A Bedrock Knowledge Base is used to integrate proprietary information into generative-AI applications, enabling Retrieval Augmented Generation (RAG) to improve response relevancy and accuracy by searching and retrieving data from connected data sources [Chunk 1][Chunk 4].",
      "ground_truth_answer": "A Bedrock Knowledge Base is used to give foundation models contextual information from your private data sources for Retrieval Augmented Generation (RAG).",
      "context_precision": 0.75,
      "context_recall": 1.0,
      "faithfulness": 1.0,
      "answer_relevancy": 1.0,
      "answer_correctness": 0.7273
    },
    {
      "question": "What does chunking do in a knowledge base pipeline?",
      "category": "factual",
      "predicted_answer": "Chunking splits each document in a data source into smaller subdivisions (chunks) based on token count, overlap tokens, or semantic content to improve retrieval accuracy [Chunk 1][Chunk 4].",
      "ground_truth_answer": "Chunking splits documents into smaller segments so they can be efficiently embedded and retrieved during a query.",
      "context_precision": 1.0,
      "context_recall": 0.0,
      "faithfulness": 1.0,
      "answer_relevancy": 0.6639,
      "answer_correctness": 0.5805
    },
    {
      "question": "What is the purpose of RetrieveAndGenerate?",
      "category": "factual",
      "predicted_answer": "The `RetrieveAndGenerate` operation combines query conversion (via `GenerateQuery` for structured data), retrieval, and model invocation to perform the full RAG process in Amazon Bedrock Knowledge Bases [Chunk 1].",
      "ground_truth_answer": "RetrieveAndGenerate queries a knowledge base, retrieves relevant results, and generates a response by augmenting the foundation model prompt with the retrieved information.",
      "context_precision": 0.75,
      "context_recall": 1.0,
      "faithfulness": 1.0,
      "answer_relevancy": 0.6357,
      "answer_correctness": 0.5675
    },
    {
      "question": "What two types of RAG evaluation jobs can you set up in Amazon Bedrock evaluations?",
      "category": "factual",
      "predicted_answer": "In Amazon Bedrock evaluations, you can set up **automated** and **human** RAG evaluation jobs [Chunk 1].",
      "ground_truth_answer": "You can set up two types of jobs: retrieve-only and retrieve-and-generate.",
      "context_precision": 0.0,
      "context_recall": 1.0,
      "faithfulness": 0.5,
      "answer_relevancy": 0.8645,
      "answer_correctness": 0.2426
    },
    {
      "question": "What does contextual grounding check in Bedrock Guardrails evaluate?",
      "category": "factual",
      "predicted_answer": "Contextual grounding check in Bedrock Guardrails evaluates only the grounding source, query, and response [Chunk 1].",
      "ground_truth_answer": "It evaluates grounding and relevance of a model response against the provided source and user query.",
      "context_precision": 0.0,
      "context_recall": 1.0,
      "faithfulness": 1.0,
      "answer_relevancy": 1.0,
      "answer_correctness": 0.4583
    },
    {
      "question": "How do model access and supported regions together affect deployment planning in Bedrock?",
      "category": "multi_hop",
      "predicted_answer": "In Amazon Bedrock, you must first request access to foundation models using their product ID [Chunk 1], then verify the model is supported in your target AWS Region since some models are only available in specific single-region deployments [Chunk 4].",
      "ground_truth_answer": "Deployment planning requires checking both model access permissions (which must be requested per model) and supported regions (since not all models are available in all AWS regions), so teams must confirm regional availability before requesting access.",
      "context_precision": 0.25,
      "context_recall": 0.5,
      "faithfulness": 1.0,
      "answer_relevancy": 0.5069,
      "answer_correctness": 0.6643
    },
    {
      "question": "Why are chunking settings and retrieval configuration both important for answer quality?",
      "category": "multi_hop",
      "predicted_answer": "Chunking settings (e.g., semantic chunking, maximum tokens) improve retrieval accuracy by preserving semantic content and controlling chunk size [Chunk 2], while retrieval configuration (e.g., `numberOfResults`) determines how many relevant chunks are returned to inform the answer [Chunk 1][Chunk 3]. Together, they balance precision and context for higher-quality responses.",
      "ground_truth_answer": "Chunking controls the granularity of document segments stored in the vector index, while retrieval configuration controls how many chunks are returned and how they are ranked. Together they determine whether the right information at the right level of detail reaches the LLM for generation.",
      "context_precision": 0.0,
      "context_recall": 0.0,
      "faithfulness": 0.5,
      "answer_relevancy": 0.8245,
      "answer_correctness": 0.6094
    },
    {
      "question": "How are Knowledge Bases and guardrails complementary in a production assistant?",
      "category": "multi_hop",
      "predicted_answer": "Guardrails apply only to the input prompt and LLM-generated response, not to the references retrieved from Knowledge Bases, allowing safe user interactions while leveraging retrieved data [Chunk 2]. Guardrails can be used alongside Knowledge Bases to filter content in prompts/responses, but contextual grounding with guardrails is not supported for Claude 3 Sonnet and Haiku [Chunk 1].",
      "ground_truth_answer": "Knowledge Bases provide the RAG capability to ground answers in private data, while guardrails add safety layers like content filtering and sensitive information masking. Together they enable an assistant that is both accurate and safe.",
      "context_precision": 0.5,
      "context_recall": 0.3333,
      "faithfulness": 0.8,
      "answer_relevancy": 0.6134,
      "answer_correctness": 0.2875
    },
    {
      "question": "How do quotas and endpoints influence runtime behavior for inference calls?",
      "category": "multi_hop",
      "predicted_answer": "Quotas limit the number of inference requests you can make per minute or second, and endpoints determine the regional API URL you must use for inference calls [Chunk 1].",
      "ground_truth_answer": "Quotas define the maximum request rate and token limits per model per region. Endpoints determine the network path for API calls. Together, exceeding quotas at a given endpoint leads to throttling (InvocationThrottles), and choosing the right endpoint-region pair is necessary to get sufficient throughput.",
      "context_precision": 0.0,
      "context_recall": 0.0,
      "faithfulness": 0.5,
      "answer_relevancy": 0.8047,
      "answer_correctness": 0.5125
    },
    {
      "question": "Can Bedrock KB do RAG-style retrieval before generation?",
      "category": "paraphrase",
      "predicted_answer": "Yes, Amazon Bedrock Knowledge Bases supports RAG-style retrieval before generation using the **Retrieve** and **RetrieveAndGenerate** operations [Chunk 3][Chunk 4].",
      "ground_truth_answer": "Yes, Bedrock Knowledge Bases support RAG-style retrieval before generation through the RetrieveAndGenerate API, which first queries the knowledge base for relevant results and then uses them to augment the prompt for the foundation model.",
      "context_precision": 0.8056,
      "context_recall": 1.0,
      "faithfulness": 1.0,
      "answer_relevancy": 0.7292,
      "answer_correctness": 0.7042
    },
    {
      "question": "How do I check token count before sending a prompt?",
      "category": "paraphrase",
      "predicted_answer": "Use the `CountTokens` operation, which accepts the same input formats as `InvokeModel` or `Converse` [Chunk 1].",
      "ground_truth_answer": "You can use the CountTokens API operation to count the number of tokens in a prompt before sending it to a model.",
      "context_precision": 1.0,
      "context_recall": 1.0,
      "faithfulness": 1.0,
      "answer_relevancy": 0.5711,
      "answer_correctness": 0.4044
    },
    {
      "question": "Is there an API for streaming model responses?",
      "category": "paraphrase",
      "predicted_answer": "Yes, the APIs for streaming model responses in AWS Bedrock are `RetrieveAndGenerateStream`, `ConverseStream`, and `InvokeModelWithResponseStream` [Chunk 1][Chunk 4].",
      "ground_truth_answer": "Yes, Amazon Bedrock supports response streaming through the InvokeModelWithResponseStream and ConverseStream API operations. The field 'responseStreamingSupported' in the API documentation indicates whether a specific model supports streaming.",
      "context_precision": 0.4167,
      "context_recall": 1.0,
      "faithfulness": 1.0,
      "answer_relevancy": 0.7727,
      "answer_correctness": 0.6854
    },
    {
      "question": "Can I directly apply a guardrail through an API call?",
      "category": "paraphrase",
      "predicted_answer": "Yes, you can directly apply a guardrail through the **ApplyGuardrail API** without invoking a foundation model [Chunk 1][Chunk 4].",
      "ground_truth_answer": "Yes, you can apply a guardrail directly through the ApplyGuardrail API operation, which evaluates content against your configured guardrail policies.",
      "context_precision": 1.0,
      "context_recall": 1.0,
      "faithfulness": 1.0,
      "answer_relevancy": 0.7899,
      "answer_correctness": 0.7216
    },
    {
      "question": "What are the runtime metrics Amazon Bedrock tracks for model invocations?",
      "category": "paraphrase",
      "predicted_answer": "Amazon Bedrock tracks the following runtime metrics for model invocations: **Invocations** (number of successful requests), **InvocationLatency** (latency in milliseconds), and **InvocationClientErrors** (number of client errors) [Chunk 1].",
      "ground_truth_answer": "Amazon Bedrock tracks Invocations, InvocationLatency, InvocationClientErrors, InvocationServerErrors, InvocationThrottles, InputTokenCount, OutputTokenCount, LegacyModelInvocations, and OutputImageCount.",
      "context_precision": 0.0,
      "context_recall": 0.3333,
      "faithfulness": 1.0,
      "answer_relevancy": 0.92,
      "answer_correctness": 0.3526
    },
    {
      "question": "Does Bedrock support tag-based access control for its resources?",
      "category": "paraphrase",
      "predicted_answer": "Yes, Amazon Bedrock supports tag-based access control for its resources, such as guardrails, by allowing tags to be added and referenced in policies [Chunk 2][Chunk 3].",
      "ground_truth_answer": "Yes, Amazon Bedrock supports attribute-based access control (ABAC) using tags, with condition keys like aws:ResourceTag, aws:RequestTag, and aws:TagKeys.",
      "context_precision": 0.0,
      "context_recall": 0.0,
      "faithfulness": 0.3333,
      "answer_relevancy": 0.9005,
      "answer_correctness": 0.6045
    },
    {
      "question": "What is the default PostgreSQL version used internally by Bedrock?",
      "category": "no_answer",
      "predicted_answer": null,
      "ground_truth_answer": null,
      "context_precision": 0.0,
      "context_recall": 0.0,
      "faithfulness": 0.0,
      "answer_relevancy": 0.0,
      "answer_correctness": 1.0
    },
    {
      "question": "Which color theme does the AWS Bedrock console use by default?",
      "category": "no_answer",
      "predicted_answer": null,
      "ground_truth_answer": null,
      "context_precision": 0.0,
      "context_recall": 0.0,
      "faithfulness": 0.0,
      "answer_relevancy": 0.0,
      "answer_correctness": 1.0
    },
    {
      "question": "What salary does an AWS Bedrock product manager earn?",
      "category": "no_answer",
      "predicted_answer": null,
      "ground_truth_answer": null,
      "context_precision": 0.0,
      "context_recall": 0.0,
      "faithfulness": 1.0,
      "answer_relevancy": 0.0,
      "answer_correctness": 1.0
    },
    {
      "question": "What was the weather in Seattle when Bedrock launched?",
      "category": "no_answer",
      "predicted_answer": null,
      "ground_truth_answer": null,
      "context_precision": 0.0,
      "context_recall": 0.0,
      "faithfulness": 0.0,
      "answer_relevancy": 0.0,
      "answer_correctness": 1.0
    }
  ]
}